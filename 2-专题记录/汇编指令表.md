# 8080[[汇编指令]]手册

## 数据传输指令

它们在存贮器和寄存器、寄存器和输入输出端口之间传送数据。

### 1. 通用数据传送指令
| 指令      | 说明                                     | 示例             |
| ------- | -------------------------------------- | -------------- |
| MOV     | 传送字或字节                                 | MOV AX, BX     |
| MOVSX   | 先符号扩展，再传送                              | MOVSX AX, BX   |
| MOVZX   | 先零扩展，再传送                               | MOVZX AX, BX   |
| PUSH    | 把字压入堆栈                                 | PUSH AX        |
| POP     | 把字弹出堆栈                                 | POP BX         |
| PUSHA   | 把AX，CX，DX，BX，SP，BP，SI，DI依次压入堆栈         | PUSHA          |
| POPA    | 把DI，SI，BP，SP，BX，DX，CX，AX依次弹出堆栈         | POPA           |
| PUSHAD  | 把EAX，ECX，EDX，EBX，ESP，EBP，ESI，EDI依次压入堆栈 | PUSHAD         |
| POPAD   | 把EDI，ESI，EBP，ESP，EBX，EDX，ECX，EAX依次弹出堆栈 | POPAD          |
| BSWAP   | 交换32位寄存器里字节的顺序                         | BSWAP EAX      |
| XCHG    | 交换字或字节                                 | XCHG AX, BX    |
| CMPXCHG | 比较并交换操作数                               | CMPXCHG AX, BX |
| XADD    | 先交换再累加                                 | XADD AX, BX    |
| XLAT    | 字节查表转换                                 | XLAT           |

### 2. 输入输出端口传送指令
| 指令    | 说明                                      | 示例                                |
|---------|-------------------------------------------|-------------------------------------|
| IN      | I/O端口输入                               | IN AL, DX                          |
| OUT     | I/O端口输出                               | OUT DX, AL                         |

输入输出端口由立即方式指定时， 其范围是 0-255; 由寄存器 DX 指定时，其范围是 0-65535。

### 3. 目的地址传送指令
| 指令    | 说明                                      | 示例                          |
|---------|-------------------------------------------|-------------------------------|
| LEA     | 装入有效地址                             | LEA DX, string                 |
| LDS     | 传送目标指针，把指针内容装入DS           | LDS SI, string                 |
| LES     | 传送目标指针，把指针内容装入ES           | LES DI, string                 |
| LFS     | 传送目标指针，把指针内容装入FS           | LFS DI, string                 |
| LGS     | 传送目标指针，把指针内容装入GS           | LGS DI, string                 |
| LSS     | 传送目标指针，把指针内容装入SS           | LSS DI, string                 |

### 4. 标志传送指令
| 指令    | 说明                                      | 示例                    |
|---------|-------------------------------------------|-------------------------|
| LAHF    | 标志寄存器传送，把标志装入AH              | LAHF                    |
| SAHF    | 标志寄存器传送，把AH内容装入标志寄存器    | SAHF                    |
| PUSHF   | 标志入栈                                  | PUSHF                   |
| POPF    | 标志出栈                                  | POPF                    |
| PUSHD   | 32位标志入栈                              | PUSHD                   |
| POPD    | 32位标志出栈                              | POPD                    |

## 算术运算指令

| 指令    | 说明                                      | 示例                            |
|---------|-------------------------------------------|---------------------------------|
| ADD     | 加法                                      | ADD AX, BX                     |
| ADC     | 带进位加法                                | ADC AX, BX                     |
| INC     | 加1                                       | INC AX                         |
| AAA     | 加法的ASCII码调整                        | AAA                             |
| DAA     | 加法的十进制调整                          | DAA                             |
| SUB     | 减法                                      | SUB AX, BX                     |
| SBB     | 带借位减法                                | SBB AX, BX                     |
| DEC     | 减1                                       | DEC AX                         |
| NEC     | 求反(以 0 减之)                          | NEC                             |
| CMP     | 比较（两操作数作减法，仅修改标志位，不回送结果） | CMP AX, BX                     |
| AAS     | 减法的ASCII码调整                        | AAS                             |
| DAS     | 减法的十进制调整                          | DAS                             |
| MUL     | 无符号乘法                                | MUL BX                         |
| IMUL    | 整数乘法                                  | IMUL BX                        |
| DIV     | 无符号除法                                | DIV BX                         |
| IDIV    | 整数除法                                  | IDIV BX                        |
| CBW     | 字节转换为字                              | CBW                             |
| CWD     | 字转换为双字                              | CWD                             |
| CWDE    | 字转换为双字                              | CWDE                            |
| CDQ     | 双字扩展                                  | CDQ                             |

## 逻辑运算指令

| 指令    | 说明                                      | 示例                        |
|---------|-------------------------------------------|-----------------------------|
| AND     | 与运算                                    | AND AX, BX                  |
| OR      | 或运算                                    | OR AX, BX                   |
| XOR     | 异或运算                                  | XOR AX, BX                  |
| NOT     | 取反                                      | NOT AX                      |
| TEST    | 测试（两操作数作与运算，仅修改标志位，不回送结果） | TEST AX, BX                 |
| SHL     | 逻辑左移                                  | SHL AX, 1                   |
| SHR     | 逻辑右移                                  | SHR AX, 1                   |
| ROL     | 循环左移                                  | ROL AX, 1                   |
| ROR     | 循环右移                                  | ROR AX, 1                   |

## 串指令

| 指令    | 说明                                      | 示例                            |
|---------|-------------------------------------------|---------------------------------|
| MOVS    | 串传送                                    | MOVSB                          |
| CMPS    | 串比较                                    | CMPSB                          |
| SCAS    | 串扫描                                    | SCAS                           |
| LODS    | 装入串                                    | LODSB                          |
| STOS    | 保存串                                    | STOS                           |
| REP     | 当CX/ECX<>0时重复                         | REP                             |

## 程序转移指令

### 无条件转移指令
| 指令    | 说明                                      | 示例                    |
|---------|-------------------------------------------|-------------------------|
| JMP     | 无条件转移指令                            | JMP start               |
| CALL    | 过程调用                                  | CALL function           |
| RET     | 过程返回                                  | RET                     |

### 条件转移指令
| 指令    | 说明                                      | 示例                    |
|---------|-------------------------------------------|-------------------------|
| JA      | 不小于或不等于时转移                      | JA jump                 |
| JB      | 小于转移                                  | JB jump                 |
| JZ      | 等于转移                                  | JZ jump                 |

### 循环控制指令
| 指令    | 说明                                      | 示例                    |
|---------|-------------------------------------------|-------------------------|
| LOOP    | CX不为零时循环                           | LOOP loop               |
| LOOPNE  | CX不为零且标志Z=0时循环                  | LOOPNE loop             |

### 中断指令
| 指令    | 说明                                      | 示例                    |
|---------|-------------------------------------------|-------------------------|
| INT     | 中断指令                                  | INT 0x80                |
| IRET    | 中断返回                                  | IRET                    |

### 处理器控制指令
| 指令    | 说明                                      | 示例                    |
|---------|-------------------------------------------|-------------------------|
| HLT     | 处理器暂停，直到出现中断或复位信号才继续 | HLT                     |
| NOP     | 空操作                                  | NOP                     |

## 伪指令

| 指令    | 说明                                      | 示例                       |
|---------|-------------------------------------------|----------------------------|
| DW      | 定义字（2字节）                          | DW 0x1234                  |
| PROC    | 定义过程                                  | PROC MyProcedure           |
| ENDP    | 过程结束                                  | ENDP                       |
| SEGMENT | 定义段                                    | SEGMENT DataSegment        |
| ENDS    | 段结束                                    | ENDS                       |
| END     | 程序结束                                  | END                        |
